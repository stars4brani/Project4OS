# Project4OS
Задача по ОС за втора оценка

**Как се изграждат и стартират контейнерите?**

-За създаването на контейнер първо се създава Dockerfile (файл, който описва какво да съдържа контейнера);
-Изграждне на образа на контейнера: docker build -t <image_name>;
-Стартиране контейнера: docker run <image_name>;

-С compose.yml: 
  --Създава се compose.yml файла и за стартиране се използва: docker compose up --build;


**Структурата на проекта:**
project4os
│
├── Dockerfile               
├── compose.yml      
├── bookstore.sql                # SQL скрипт за създаването на базата + insert заяки
│
├── start.php                # Начална страница с всички книги
├── register.php             # Регистрация на нов потребител
├── login.php                # Вход за регистриран потребител
├── logout.php               # Изход (destroy session)
└── profile.php              # Профил на потребителя


**Как работи всеки компонент?**
Dockerfile         - Инсталира PHP 8.2 с Apache и PDO драйвери за MySQL, копира PHP файловете и активира mod\_rewrite.             
compose.yml        - Дефинира услуги: `app` (PHP + Apache) , `db` (MySQL база)
bookstore.sql      - Създава база `bookstore`, таблици `Books`, `Customers`, `Orders` и вмъква начални книги.                     
start.php          - Начална страница: показва всички книги от `Books`.                                                            
register.php       - Форма за регистрация: записва нов потребител в `Customers` със защитено хеширане на паролата.                 
login.php          - Форма за вход: проверява въведени данни и стартира сесия за автентициран потребител.                         
logout.php         - Изтрива сесията и връща към началната страница.                                                               
profile.php        - Показва данните на текущо логнатия потребител (име, имейл, телефон).     


**Как е осъществена комуникацията между услугите?**
-PHP приложението (app) комуникира с MySQL (db) през Docker мрежата по вътрешното име db;
-Контейнерите са в една и съща Docker мрежа, дефинирана от compose;
-Данните на MySQL се запазват в тома db_data.
